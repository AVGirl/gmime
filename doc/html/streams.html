<HTML
><HEAD
><TITLE
>Streams</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REL="HOME"
TITLE="GMime Library Reference Manual"
HREF="book1.html"><LINK
REL="PREVIOUS"
TITLE="GMime Programming Notes"
HREF="gmime-notes.html"><LINK
REL="NEXT"
TITLE="Stream Filters"
HREF="filters.html"><META
NAME="GENERATOR"
CONTENT="GTK-Doc V0.10 (SGML mode)"><STYLE
TYPE="text/css"
>.synopsis, .classsynopsis {
    background: #eeeeee;
    border: solid 1px #aaaaaa;
    padding: 0.5em;
}
.programlisting {
    background: #eeeeff;
    border: solid 1px #aaaaff;
    padding: 0.5em;
}
.variablelist {
    padding: 4px;
    margin-left: 3em;
}
.navigation {
    background: #ffeeee;
    border: solid 1px #ffaaaa;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}
.navigation a {
    color: #770000;
}
.navigation a:visited {
    color: #550000;
}
.navigation .title {
    font-size: 200%;
}</STYLE
></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><TABLE
WIDTH="100%"
CLASS="navigation"
SUMMARY="Navigation header"
CELLPADDING="2"
CELLSPACING="2"
><TR
VALIGN="middle"
><TD
><A
ACCESSKEY="p"
HREF="gmime-notes.html"
><IMG
SRC="left.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Prev"></A
></TD
><TD
><A
ACCESSKEY="h"
HREF="book1.html"
><IMG
SRC="home.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Home"></A
></TD
><TH
WIDTH="100%"
align="center"
>GMime Library Reference Manual</TH
><TD
><A
ACCESSKEY="n"
HREF="filters.html"
><IMG
SRC="right.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Next"></A
></TD
></TR
></TABLE
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="STREAMS"
>Streams</A
></H1
><P
>Streams are the fundamental method for reading and writing
    data used by GMime.</P
><P
>The three (3) basic stream types are: GMimeStreamFile,
    GMimeStreamFs and GMimeStreamMem. You can manipulate all three
    streams using the GMimeStream interfaces. In addition, some of
    these streams have extended interfaces to allow more fine grained
    manipulation.</P
><P
>GMimeStreamFile and GMimeStreamFs are very similar in that
    they are both meant for reading and writing data to the file
    system (in the form of files). Since GMimeStreamFile is an
    abstracted layer above the libc FILE type, one of the added
    benefits is buffered I/O. GMimeStreamFs, on the other hand, is an
    abstracted layer above UNIX file descriptors. While a
    GMimeStreamFs can be used on top of a UNIX socket, you must be
    careful because sockets are not seekable. It is suggested that you
    use a GMimeStreamBuffer in cache mode if you intend to be able to
    seek, we will get to this advanced stream type later.</P
><P
>Unlike the previous 2 stream types, GMimeStreamMem does not
    interact with the file system at all (except maybe the swap
    partition/file indirectly). Memory streams are handy when you want
    reads and writes to be nearly instantaneous and/or if you don't
    want to create a temporary file on disk.</P
><P
>The four (4) advanced stream types are GMimeStreamMmap,
    GMimeStreamNull, GMimeStreamBuffer (as was mentioned previously)
    and GMimeStreamFilter.</P
><P
>Our most simple stream, GMimeStreamNull, is the stream
    equivalent of /dev/null on Unix systems. The main difference is
    that GMimeStreamNull records the number of bytes written to
    it.</P
><P
>GMimeStreamMmap is a memory-mapped stream. This isn't
    guarenteed to work on all systems since not all systems support
    the POSIX mmap system call, but for those that do - this might
    present a faster stream than GMimeStreamFs and/or
    GMimeStreamFile.</P
><P
>The GMimeStreamBuffer type inherits from any other type of
    stream and has 3 modes: block reads, block writes, and cached
    reads. Block reads are especially useful if you will be making a
    lot of small reads from a stream that accesses the file
    system. Block writes are useful for very much the same reason. The
    final mode, cached reads, can become memory intensive but can be
    very helpful when inheriting from a stream that does not support
    seeking.</P
><P
>Our final stream type, GMimeStreamFilter, also inherits from
    another stream. This stream, as you may have guessed, filters
    reads and writes to its inherited stream. For example, one could
    write a compression filter and apply it to a GMimeStreamFilter and
    any further reads or writes would be compressed.</P
></DIV
><TABLE
CLASS="navigation"
WIDTH="100%"
SUMMARY="Navigation footer"
CELLPADDING="2"
CELLSPACING="2"
><TR
VALIGN="middle"
><TD
ALIGN="left"
><A
ACCESSKEY="p"
HREF="gmime-notes.html"
><B
>&lt;&lt;&lt;&nbsp;GMime Programming Notes</B
></A
></TD
><TD
ALIGN="right"
><A
ACCESSKEY="n"
HREF="filters.html"
><B
>Stream Filters&nbsp;&gt;&gt;&gt;</B
></A
></TD
></TR
></TABLE
></BODY
></HTML
>